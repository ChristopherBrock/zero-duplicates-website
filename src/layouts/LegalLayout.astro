---
import '../styles/global.css';
import Header from '../components/common/Header.astro';
import Footer from '../components/common/Footer.astro';
import Button from '../components/common/Button.astro';
import { translations } from '../i18n/translations';
import { getLocaleFromUrl } from '../i18n/ui';

interface Props {
  title: string;
}

const { title } = Astro.props;
const currentLang = getLocaleFromUrl(Astro.url);
const t = translations[currentLang];
---

<html lang={currentLang} class="dark">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>{title} - ZeroDuplicates</title>
  </head>
  <body class="min-h-screen flex flex-col bg-background text-text-primary">
    <Header />
    <main class="flex-grow pt-[var(--header-height)]">
      <div class="container-width py-12">
        <!-- Back button -->
        <div class="mb-6">
          <Button
            href={`/${currentLang}`}
            variant="secondary"
            size="sm"
            class="group"
          >
            <svg 
              xmlns="http://www.w3.org/2000/svg" 
              fill="none" 
              viewBox="0 0 24 24" 
              stroke-width="2" 
              stroke="currentColor" 
              class="w-4 h-4 mr-2 group-hover:-translate-x-0.5 transition-transform"
            >
              <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
            </svg>
            {t.legal.backToHome}
          </Button>
        </div>

        <!-- Main content -->
        <div class="max-w-3xl mx-auto bg-background-elevated rounded-lg shadow-lg border border-white/10 p-8 sm:p-12">
          <article class="prose-custom">
            <slot />
          </article>
        </div>
      </div>
    </main>
    <Footer />
  </body>
</html>